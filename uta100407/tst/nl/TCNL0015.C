#include <string.h>
#include "pri.h"
#include "tst.h"

static code const char *srcFile = __FILE__;

//Unitary test case tcnl0015.
//Functions testing:
//  stdcrc16
int ret;

void tcnl0015(void) {
    byte rsp[3000] = "";
    byte text[3000] = "";

    memcpy(rsp,
           "05FC50ACA00005000000000005F850ACF80006000005000000010001000B9F37049F47018F019F3201000000000000000000000000000000000000000000039F08020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002078402078404000000000183010201A000000003050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004807A00000000310100000000000000000000107A00000000320100000000000000000000207A00000000410100000000000000000000307A0000000042010000000000000000000040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
           736);

    ret = hex2bin((byte *) text, (char *) rsp, (byte) 368);
    dspClear();
    ret = dspLS(0, "crc16");
    // ret= CheckCrcData(text,"41845",(word)368,1,5);//EMVPARAM
    if(ret == 1)
        prtS("correct");

    goto lblEnd;

  lblEnd:
    trcFN("enterTxt: ret=%d\n", ret);

}
