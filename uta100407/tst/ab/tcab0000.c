/** \file
 * Unitary test case for sys component: printer perypheral.
 * \sa
 *  - prtStart()
 *  - prtStop()
 *  - prtS()
 *  - prtES()
 *  - prtImg()
 *
 * Subversion reference
 *
 * $HeadURL: https://svn.ingenico.com/UTA/core/utaYYMMDD/tst/ab/tcab0000.c $
 *
 * $Id: tcab0000.c 2616 2010-04-07 11:16:41Z abarantsev $
 */

#include "sys.h"
#include "tst.h"
#include "oldyoung.c"

#ifdef __UNICAPT__
static byte img[] = {           ///< image for printing, height of the image in pixels = 32,  width of the image in bytes (regrouping the pixels by 8) = 8 */
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 56, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 252, 0, 3, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    1, 254, 0, 3, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    1, 255, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0,
    3, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 0, 0, 0,
    7, 255, 128, 31, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    11, 255, 192, 15, 128, 0, 0, 0, 0, 248, 0, 0, 0, 0, 0, 0,
    11, 255, 224, 15, 143, 62, 0, 248, 227, 252, 243, 224, 240, 31, 131, 240,
    29, 255, 224, 7, 143, 255, 131, 255, 230, 6, 127, 248, 124, 60, 7, 248,
    29, 255, 240, 7, 135, 231, 199, 223, 140, 226, 62, 124, 60, 120, 15, 60,
    62, 234, 144, 7, 131, 193, 231, 143, 137, 243, 60, 30, 60, 112, 30, 30,
    63, 65, 232, 7, 131, 193, 239, 7, 147, 187, 60, 30, 60, 112, 28, 14,
    127, 163, 248, 7, 131, 193, 239, 7, 147, 251, 60, 30, 60, 112, 28, 14,
    127, 215, 244, 7, 131, 193, 239, 7, 147, 134, 60, 30, 60, 112, 28, 14,
    127, 239, 244, 7, 131, 193, 231, 7, 147, 206, 60, 30, 60, 112, 28, 14,
    255, 247, 244, 7, 131, 193, 231, 135, 153, 252, 60, 30, 60, 120, 30, 30,
    255, 251, 244, 7, 131, 193, 227, 255, 140, 248, 60, 30, 60, 62, 31, 252,
    255, 253, 232, 7, 135, 193, 225, 255, 134, 4, 124, 30, 60, 31, 143, 248,
    127, 255, 80, 7, 143, 0, 0, 7, 131, 248, 240, 0, 0, 0, 3, 240,
    0, 0, 0, 0, 0, 0, 0, 7, 128, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 7, 128, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 15, 128, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 3, 255, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 1, 254, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
/*
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0xbf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfd,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0xbf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfd,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0xa0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x11,
    0x82, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x45,
    0x84, 0x03, 0x80, 0xf0, 0x7c, 0x3c, 0x04, 0x01,
    0x80, 0x81, 0x01, 0x08, 0x84, 0x42, 0x02, 0x41,
    0x80, 0x01, 0x02, 0x05, 0x04, 0x81, 0x00, 0x01,
    0x80, 0x01, 0x02, 0x05, 0x00, 0x81, 0x04, 0x01,
    0x9f, 0xfd, 0x02, 0x05, 0x00, 0x81, 0x7f, 0xfd,
    0x9f, 0xfd, 0x02, 0x05, 0x00, 0x81, 0x7f, 0xfd,
    0x80, 0x01, 0x02, 0x05, 0x0e, 0x81, 0x20, 0x01,
    0x80, 0x31, 0x0a, 0x05, 0x04, 0x81, 0x04, 0x01,
    0x82, 0x01, 0x09, 0x08, 0x84, 0x42, 0x29, 0x01,
    0x80, 0x83, 0xf8, 0xf0, 0x7c, 0x3c, 0x00, 0x21,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09,
    0x84, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0xbf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfd,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0xbf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfd,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0xbf, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xfd,
    0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,
*/
};
#endif

#ifdef __TELIUM__
static const unsigned char img[] = {
    0, 192,
    0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0xE0, 0xF0, 0xF0, 0xF8, 0xF8, 0xF8,
    0xF0, 0xE0, 0xC0, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x30, 0x78, 0x30,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0xC0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00,
    0xFF, 0,
    0, 192,
    0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x80, 0xE0, 0xF8, 0xFE, 0xF9, 0xE7, 0xDF, 0xBF, 0x7F, 0xBF, 0x1F, 0x3F,
    0x1F, 0xBF, 0xDF, 0xFF,
    0xDE, 0xDC, 0xB0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x07,
    0xFF, 0xFF, 0xFF, 0xFE,
    0x00, 0x00, 0x00, 0x0C, 0x1C, 0xFC, 0xFC, 0xF8, 0xF8, 0x1C, 0x0C, 0x0C,
    0x1C, 0x1C, 0xF8, 0xF8,
    0xF0, 0xE0, 0x00, 0xC0, 0xF0, 0xF8, 0xF8, 0x3C, 0x1C, 0x0C, 0x1C, 0x3C,
    0xF8, 0xF8, 0xF8, 0xFC,
    0x0C, 0x0C, 0xC0, 0x30, 0x18, 0xCC, 0xE4, 0xF6, 0xB6, 0xF6, 0xE6, 0xC6,
    0x0C, 0xF8, 0xE0, 0x04,
    0x0C, 0xFC, 0xFC, 0xF8, 0xF8, 0x1C, 0x0C, 0x0C, 0x1C, 0x1C, 0xF8, 0xF8,
    0xF0, 0xE0, 0x00, 0x04,
    0x0C, 0xFC, 0xFC, 0xF8, 0xF8, 0x00, 0x00, 0x00, 0xF0, 0xF8, 0xFC, 0x1C,
    0x0C, 0x04, 0x04, 0x04,
    0x00, 0x00, 0xE0, 0xF0, 0xF8, 0x3C, 0x1C, 0x0C, 0x0C, 0x1C, 0x3C, 0xF8,
    0xF0, 0xE0, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00,
    0xFF, 0,
    0, 192,
    0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x1C,
    0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3F, 0x3E, 0x3D, 0x3A,
    0x37, 0x2F, 0x3F, 0x1F,
    0x3F, 0x1F, 0x2F, 0x10, 0x0F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x3F, 0x3F, 0x3F, 0x3F,
    0x00, 0x00, 0x00, 0x20, 0x30, 0x3F, 0x3F, 0x1F, 0x1F, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x1F, 0x1F,
    0x1F, 0x1F, 0x00, 0x01, 0x07, 0x0F, 0x1F, 0x1C, 0x18, 0x18, 0x18, 0x18,
    0xFF, 0xFF, 0xFF, 0xFF,
    0x00, 0x00, 0x07, 0x0C, 0x18, 0x33, 0x27, 0x2F, 0x2E, 0x2C, 0x2C, 0x2E,
    0x17, 0x03, 0x00, 0x20,
    0x30, 0x3F, 0x3F, 0x1F, 0x1F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x1F,
    0x1F, 0x1F, 0x00, 0x00,
    0x00, 0x1F, 0x1F, 0x1F, 0x1F, 0x00, 0x00, 0x00, 0x07, 0x0F, 0x1F, 0x1C,
    0x18, 0x18, 0x10, 0x10,
    0x00, 0x00, 0x0F, 0x1F, 0x1F, 0x3C, 0x38, 0x38, 0x38, 0x38, 0x3C, 0x1F,
    0x0F, 0x07, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00,
    0xFF, 0,
    0, 192,
    0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x06, 0x06, 0x06, 0x06, 0x06, 0x07,
    0x07, 0x07, 0x03, 0x01,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00,
    192, 0
};
#endif

void tcab0000(void) {
    int ret;                    //*< integer value for return code */

    trcS("tcab0000 Beg\n");

    /*! TEST SEQUENCE :
     * \par Step 1: call prtStart()
     * Inside of this function printer and display fonts are selected in selectFontPrt() and selectFontDsp().
     * Font family to set is defined by __FONT__ Iso8859_7 in context header ctx.h,
     * otherwise both functions return 0.
     * Depending on SSA version >=541 you need just to download appropriate CFS font file.
     * Or for SSA version<=517 appropriate SSA.
     * Font selection table :
     * \htmlonly
     <table border=1 cellspacing=0 cellpadding=0>
     <tr>                 <td>Font family</td>        <td>Languages</td>             </tr>
     <tr>                 <td>Iso8859_1</td>          <td>Western european</td>  </tr>
     <tr>                 <td>Iso8859_2</td>          <td>Eastern european</td>  </tr>
     <tr>                 <td>Iso8859_35</td>       <td>Arabic, Farsi</td>       </tr>
     <tr>                 <td>Iso8859_5</td>          <td>Russian</td>               </tr>
     <tr>                 <td>Iso8859_7</td>          <td>Greek</td>                 </tr>
     <tr>                 <td>Iso8859_8</td>          <td>Hebrew</td>                </tr>
     <tr>                 <td>Iso8859_9</td>          <td>Extended european, Turkish</td>    </tr>
     </table>
     \endhtmlonly
     */
    ret = prtStart();           //open the associated channel
    CHECK(ret >= 0, lblKO);

    /*!
     * \par Step 2: call prtS(const char *  string)
     * this function prints non formated string,
     * but it possible to manage font size by setting special values to first character of string
     * example "\x1b\x1b" is used to print normal size string prtS("\x1b\x1b" "Normal size string");
     * \htmlonly
     <table border=1 cellspacing=0 cellpadding=0>
     <tr>             <td>Control chars</td>         <td>Size effect</td>                <td>Number of chars per line</td>           </tr>
     <tr>             <td>\x1b\x1b</td>              <td>normal size</td>                <td>24</td>                                                     </tr>
     <tr>         <td>\x1b\x20</td>              <td>real half size</td>         <td>48</td>                                                     </tr>
     <tr>         <td>\x1b\x21</td>              <td>half size 42 columns</td> <td>42</td>                                                   </tr>
     <tr>         <td>\x1b\x1e</td>              <td>double size</td>                <td>12</td>                                                     </tr>
     <tr>         <td>\x1b\x1f</td>              <td>quarddouble size</td>       <td>6</td>                                                      </tr>
     </table>
     \endhtmlonly
     * \sa test tcgs0005.c
     * printed string will be truncated to 24 characters, except for special narrow fonts
     */
    ret = prtS("Short string"); //print a string
    CHECK(ret >= 0, lblKO);

    prtS("Now try a long string:");
    ret = prtS("012345678901234567890123456789");   //must be truncated to 24 characters
    CHECK(ret >= 0, lblKO);

    prtS("Now try a long string");
    prtS("with narrow font");
    ret = prtS("\x1b\x20" "012345678901234567890123456789");    //must be truncated to 48 characters
    CHECK(ret >= 0, lblKO);

    /*!
     * \par Step 2: prtES(const char *  esc, const char *  str )
     * this function print formated by special characters string
     *
     * \htmlonly
     <table border=1 cellspacing=0 cellpadding=0>
     <tr> <td>INGENICO Control chars</td>   <td>SAGEM Control chars</td> <td>Print effect</td>                  </tr>
     <tr> <td>\x1b\x17</td>                                              <td>Centered text</td>                 </tr>
     <tr> <td>\x1b\x18</td>                                              <td>Right side printed text</td>       </tr>
     <tr> <td>\x1b\x19</td>                                              <td>Left side printed text</td>        </tr>
     <tr> <td>\x1b\x1a</td>                 "\x1b""E"                    <td>Bold font</td>                     </tr>
     <tr> <td>\x1b\x22</td>                 "\x1b""B1"                   <td>Reverse color font <br>Not available in ingenico ingenico simulation mode <br> to be cancelled by "\x1b""B0" for SAGEM</td>            </tr>
     <tr> <td>\x1b\x1c</td>                 "\x0E"                       <td>Double Width</td>                  </tr>
     <tr> <td>\x1b\x1d</td>                                              <td>Double Height</td>                 </tr>
     <tr> <td>\x1b\x1e</td>                                              <td>Double Size</td>                   </tr>
     <tr> <td>\x1b\x1f</td>                                              <td>Quadro Size</td>                   </tr>
     <tr> <td>\x1b\x20</td>                 "\x0F"                       <td>48 columns Size (condense)</td>    </tr>
     <tr> <td>\x1b\x21</td>                                              <td>42 columns Size</td>               </tr>
     </table>
     \endhtmlonly
     */

    ret = prtES("\x1b\x17", "Centered");
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x18", "Right");
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x19", "Left");
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x1a", "Bold");
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x22", "Reverse");
    CHECK(ret >= 0, lblKO);

    //ret = prtES("\x1b\x22", "Normal again");  jlapara: reverse mode disable
    ret = prtES("\x1b\xb0", "Normal again");
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x1c", "Double Width");    //only for UNICAPT
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x1d", "Double Height");
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x1e", "Double Size");
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x1f", "Quadro");  //only for UNICAPT
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x20", "condensed");
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x21", "42 columns");  //only for UNICAPT
    CHECK(ret >= 0, lblKO);

    ret = prtES("\x1b\x2A", "medium");  //only for TELIUM
    CHECK(ret >= 0, lblKO);

    /*!
     * \par Step 3: int prtImg(const byte * img, int hgt, int wdt, const char * ctl)
     * this function print an image formated by special characters string
     * Parameters:
     * img  (I) image bitmap
     * hgt  (I) image height in pixels.
     * wdt  (I) image width in bytes (regrouping the pixels by 8).
     * ctl  (I) control string, consists of two characters:
     *      'l'|'c'|'r': left or center or right justify
     *      '1'|'2'|'4'|'8'|: multiplier factor
     */

    prtS("Printing an image:");
#ifdef __UNICAPT__
    prtS("- centered image");
    ret = prtImg(img, 32, 16, "c1");    //centered image
    CHECK(ret >= 0, lblKO);

    prtS("- left image x2 -");
    ret = prtImg(img, 32, 16, "l2");    //left image x2
    CHECK(ret >= 0, lblKO);

    prtS("- right image x1 -");
    ret = prtImg(img, 32, 16, "r1");    //right image x1
    CHECK(ret >= 0, lblKO);

    prtS("- oldyoung -");
    ret = prtImg(BMP_oldyoung + 17, 269, 192 / 8, "c2");
    CHECK(ret >= 0, lblKO);
#endif

#ifdef __TELIUM__
    prtS("- ingenico -");
    ret = prtImg(img, 32, 8, "c4");
    CHECK(ret >= 0, lblKO);

    prtS("- oldyoung -");
    ret = prtImg(oldyoung, 269, 192 / 8, "c2");
    CHECK(ret >= 0, lblKO);
#endif

    /*!
     * \par Remarks: It is possible to control paper presence in printer with function prtCtrl
     * \sa prtCtrl()
     * \sa tcik0071.c
     */

    goto lblEnd;
  lblKO:
    trcErr(ret);
  lblEnd:
    prtStop();                  //close resource
    trcS("tcab0000 End\n");
}
